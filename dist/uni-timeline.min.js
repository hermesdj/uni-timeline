/*! uni-timeline - v0.1.0 - 2014-02-04
 * https://github.com/hermesdj/angular-timeline
 * Copyright (c) Jeremy Dallard <dallardj@gmail.com> 2014 Licensed  
 */
angular.module("uniTimeline",[]).provider("$uniTimeline",function(){var a=[],b=[];this.$get=function(){return{addEvent:function(b){a.push(b)},removeEvent:function(b){return-1!=this.indexOf(b)?a.splice(this.indexOf(b),1):void 0},addEra:function(a){b.push(a)},removeEra:function(a){return-1!=this.indexOf(a)?b.splice(this.indexOf(a),1):!1},dateToPixel:function(){},pixelToDate:function(){}}}}).directive("uniTimeline",["$window","$document","$uniTimeline",function(a,b){return{restrict:"EA",templateUrl:"templates/timeline.html",scope:{start:"=start",end:"=end",current:"=current"},controller:function(c,d){function e(a){c.x=a.pageX-h,c.$apply()}function f(){b.unbind("mousemove",e),b.unbind("mouseup",f)}for(c.dates={},c.dates.major=[],c.events=[],i=c.start;i<=c.end;i+=100)c.dates.major.push(i);for(c.dates.minor=[],i=c.start;i<=c.end;i+=10)c.dates.minor.push(i);var g=d[0].children[0];c.getIndicatorPosition=function(){return g.offsetWidth/2},c.indicatorX=c.getIndicatorPosition,c.$watch(c.getIndicatorPosition,function(a){c.indicatorX=a},!0),angular.element(a).bind("resize",function(){c.$apply()});var h=0;c.x=0,angular.element(g).bind("mousedown",function(a){a.preventDefault(),h=a.pageX-c.x,b.on("mousemove",e),b.on("mouseup",f)})}}}]);